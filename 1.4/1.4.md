# Домашнее задание к занятию «Сетевое взаимодействие в Kubernetes. Голоха Е.В.
# Домашнее задание  
## «Сетевое взаимодействие в Kubernetes»

### Цель работы
На практике настроить доступ к приложениям в Kubernetes:
- внутри кластера с помощью Service (ClusterIP и NodePort);
- снаружи кластера с помощью Ingress.

---

## Используемый стенд
- Kubernetes: **MicroK8s**
- ОС: **Debian GNU/Linux 13 (trixie)**
- IP узла кластера: **192.168.88.20**
- kubectl установлен локально

---

## Задание 1. Service (ClusterIP и NodePort)

### Deployment приложения

Развёрнут Deployment с двумя контейнерами:
- **nginx** (порт 80)
- **multitool** (порт 8080)

Количество реплик: **3**

Манифест:  
`01-deploy-nginx-multitool.yaml`

---

### Service ClusterIP

Создан Service типа **ClusterIP**, обеспечивающий доступ:
- порт **9001** → nginx (80)
- порт **9002** → multitool (8080)

Манифест:  
`02-service-web.yaml`

---

### Проверка доступа внутри кластера

Для проверки создан отдельный Pod с multitool.

Манифест:  
`03-multitool-pod.yaml`

Из Pod выполнены проверки:

```bash
curl -sS web-svc:9001 | head
curl -sS web-svc:9002 | head
curl -sS web-svc.default.svc.cluster.local:9001 | head -n 3
Результаты:

nginx доступен по порту 9001;

multitool доступен по порту 9002;

DNS-имя сервиса работает корректно.

Скриншоты:
<img width="1061" height="358" alt="2026-01-28_15-55-50" src="https://github.com/user-attachments/assets/5e99824a-9de6-49c5-8f9b-62320e0e7dc5" />
<img width="1192" height="88" alt="2026-01-28_15-55-31" src="https://github.com/user-attachments/assets/b291f6bd-875c-4598-9f95-07480d1fa571" />
<img width="1180" height="289" alt="2026-01-28_15-54-30" src="https://github.com/user-attachments/assets/2ff78da8-1f25-4e32-b80b-48f860b4c9c3" />
<img width="865" height="228" alt="2026-01-28_15-53-43" src="https://github.com/user-attachments/assets/e3dd22a6-8d5b-4d16-89ac-c0ea4cef5abd" />


Service NodePort
Для доступа к nginx снаружи кластера создан Service типа NodePort.

Манифест:
06-web-nginx-nodeport.yaml

Проверка выполнена командой:

bash
Копировать код
curl -I http://192.168.88.20:30080
Ответ: HTTP/1.1 200 OK

Скриншот:

<img width="656" height="214" alt="2026-01-28_15-59-26" src="https://github.com/user-attachments/assets/216b9d35-b342-4134-aa12-e1e2c938ae27" />

Задание 2. Настройка Ingress
Подготовка
Ingress-контроллер включён командой:

bash
Копировать код
microk8s enable ingress
Deployment и Service
Развёрнуты два приложения:

Frontend

Deployment: deployment-frontend.yaml

Service: service-frontend.yaml

Образ: nginx

Backend

Deployment: deployment-backend.yaml

Service: service-backend.yaml

Образ: wbitt/network-multitool

Ingress
Создан Ingress с маршрутами:

/ → frontend

/api → backend

Манифест:
ingress.yaml

Проверка работы Ingress
Проверка frontend:

bash
Копировать код
curl -sS http://127.0.0.1/ | head -n 5
Скриншот:

<img width="693" height="122" alt="2026-01-28_16-23-24" src="https://github.com/user-attachments/assets/24752817-28f9-4cc2-bf74-898dfc6b4f91" />


Проверка backend:

bash
Копировать код
curl -sS http://127.0.0.1/api | head
Скриншот:

<img width="1057" height="53" alt="2026-01-28_16-24-10" src="https://github.com/user-attachments/assets/7c3b52f8-e80a-4e71-b145-65f2b8caab9e" />

Вывод
В ходе выполнения работы был настроен доступ к приложениям в Kubernetes:

внутри кластера через Service ClusterIP;

снаружи кластера через Service NodePort;

маршрутизация трафика по путям реализована с помощью Ingress.

Все требования задания выполнены, работоспособность подтверждена выводами команд и скриншотами.
