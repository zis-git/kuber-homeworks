Домашнее задание к занятию «Базовые объекты K8S» Голоха Е.В.
====================================================

## Цель
В тестовой среде Kubernetes развернуть Pod с приложением и подключиться к нему с локального компьютера.
Далее создать Service и подключиться к нему локально через `kubectl port-forward`.

## Окружение
- ОС ВМ: Debian GNU/Linux 13 (trixie)
- Kubernetes: MicroK8s
- Namespace: `basic-hw`
- Узел: 192.168.88.20

Задание 1. Создать Pod с именем hello-world
-------------------------------------------

### 1. Создан манифест Pod `hello-world`
Файл: `manifests/hello-world-pod.yaml`

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: hello-world
  namespace: basic-hw
spec:
  containers:
    - name: hello-world
      image: gcr.io/kubernetes-e2e-test-images/echoserver:2.2
      ports:
        - containerPort: 8080
```

### 2. Создание Pod и проверка состояния
Команды:

```bash
microk8s kubectl apply -f manifests/hello-world-pod.yaml
microk8s kubectl get pod hello-world -n basic-hw -o wide
```

Скриншот состояния Pod (STATUS Running):

<img width="739" height="92" alt="2026-02-02_12-15-13" src="https://github.com/user-attachments/assets/f70023d0-d40f-454e-8cc5-b643e498110f" />

### 3. Подключение к Pod локально через port-forward и проверка
На ВМ:

```bash
microk8s kubectl port-forward -n basic-hw pod/hello-world 18080:8080 --address 127.0.0.1
```

Скриншот port-forward:
<img width="791" height="68" alt="2026-02-02_12-17-27" src="https://github.com/user-attachments/assets/2a75b2a5-b001-4463-a4e8-d5d1f7eba945" />

Проверка доступности (с локального ПК/браузера):
- открыть `http://localhost:18080`
(или `curl http://127.0.0.1:18080`)

Скриншот результата (Hostname: hello-world):

<img width="778" height="79" alt="2026-02-02_12-18-55" src="https://github.com/user-attachments/assets/f6e2e7bd-cedc-4921-b5ad-5ca7051acb1c" />

---

Задание 2. Создать Service и подключить его к Pod
-------------------------------------------------

### 1. Создан Pod `netology-web`
Файл: `manifests/netology-web-pod.yaml`

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: netology-web
  namespace: basic-hw
  labels:
    app: netology-web
spec:
  containers:
    - name: netology-web
      image: gcr.io/kubernetes-e2e-test-images/echoserver:2.2
      ports:
        - containerPort: 8080
```

Проверка состояния Pod:

```bash
microk8s kubectl apply -f manifests/netology-web-pod.yaml
microk8s kubectl get pod netology-web -n basic-hw -o wide
```

Скриншот состояния Pod (STATUS Running):

<img width="1260" height="609" alt="2026-02-02_12-19-29" src="https://github.com/user-attachments/assets/a9a90d12-28e0-4767-9476-c0be16a32853" />

### 2. Создан Service `netology-svc` и подключён к Pod `netology-web`
Файл: `manifests/netology-svc.yaml`

```yaml
apiVersion: v1
kind: Service
metadata:
  name: netology-svc
  namespace: basic-hw
spec:
  selector:
    app: netology-web
  ports:
    - name: http
      port: 80
      targetPort: 8080
```

Создание и проверка Service:

```bash
microk8s kubectl apply -f manifests/netology-svc.yaml
microk8s kubectl get svc netology-svc -n basic-hw
```

Скриншот `get svc`:

<img width="762" height="93" alt="2026-02-02_12-20-35" src="https://github.com/user-attachments/assets/62efdc88-32b1-4c80-931a-27035fe9f8cf" />

### 3. Подключение локально к Service через port-forward и проверка
На ВМ:

```bash
microk8s kubectl port-forward -n basic-hw svc/netology-svc 18081:80 --address 127.0.0.1
```

Скриншот port-forward к Service:

<img width="794" height="87" alt="2026-02-02_12-22-24" src="https://github.com/user-attachments/assets/ea43712e-f1dc-461b-9f4d-b261a18c21e1" />

Проверка доступности (с локального ПК/браузера):
- открыть `http://localhost:28081`

Скриншот результата (Hostname: netology-web):

<img width="1296" height="619" alt="2026-02-02_12-22-55" src="https://github.com/user-attachments/assets/f04a2429-e99d-4a19-b3bf-bc28bbd4ca0a" />

Дополнительные подтверждения (по желанию/для отчёта):
- скриншот port-forward к Service (вариант из другого терминала):
  <img width="834" height="89" alt="2026-02-02_12-24-48" src="https://github.com/user-attachments/assets/e97a153b-39ac-4164-b8a8-63c2a1ef4430" />

- скриншот `get pod hello-world` (повтор):
<img width="538" height="76" alt="2026-02-02_12-23-32" src="https://github.com/user-attachments/assets/086ca5af-b948-4bd0-87ac-f9292cfff262" />

- скриншот `get svc netology-svc` (повтор): 
<img width="762" height="93" alt="2026-02-02_12-20-35" src="https://github.com/user-attachments/assets/5d89a9f1-1c50-4e58-92cf-b4f60637cd09" />

---

## Итог
- Создан Pod `hello-world` и выполнено подключение к нему локально через `kubectl port-forward`.
- Созданы Pod `netology-web` и Service `netology-svc`, выполнено подключение к Service через `kubectl port-forward`.
- Результаты подтверждены скриншотами в каталоге `screens/`.

