Домашнее задание к занятию «Базовые объекты K8S»
====================================================

## Цель
В тестовой среде Kubernetes развернуть Pod с приложением и подключиться к нему с локального компьютера.
Далее создать Service и подключиться к нему локально через `kubectl port-forward`.

## Окружение
- ОС ВМ: Debian GNU/Linux 13 (trixie)
- Kubernetes: MicroK8s
- Namespace: `basic-hw`
- Узел: 192.168.88.20

Задание 1. Создать Pod с именем hello-world
-------------------------------------------

### 1. Создан манифест Pod `hello-world`
Файл: `manifests/hello-world-pod.yaml`

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: hello-world
  namespace: basic-hw
spec:
  containers:
    - name: hello-world
      image: gcr.io/kubernetes-e2e-test-images/echoserver:2.2
      ports:
        - containerPort: 8080
```

### 2. Создание Pod и проверка состояния
Команды:

```bash
microk8s kubectl apply -f manifests/hello-world-pod.yaml
microk8s kubectl get pod hello-world -n basic-hw -o wide
```

Скриншот состояния Pod (STATUS Running):

<img width="739" height="92" alt="2026-02-02_12-15-13" src="https://github.com/user-attachments/assets/f70023d0-d40f-454e-8cc5-b643e498110f" />

### 3. Подключение к Pod локально через port-forward и проверка
На ВМ:

```bash
microk8s kubectl port-forward -n basic-hw pod/hello-world 18080:8080 --address 127.0.0.1
```

Скриншот port-forward:
- `screens/2026-02-02_12-17-27.png`

Проверка доступности (с локального ПК/браузера):
- открыть `http://localhost:18080`
(или `curl http://127.0.0.1:18080`)

Скриншот результата (Hostname: hello-world):
- `screens/2026-02-02_12-18-55.png`

---

Задание 2. Создать Service и подключить его к Pod
-------------------------------------------------

### 1. Создан Pod `netology-web`
Файл: `manifests/netology-web-pod.yaml`

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: netology-web
  namespace: basic-hw
  labels:
    app: netology-web
spec:
  containers:
    - name: netology-web
      image: gcr.io/kubernetes-e2e-test-images/echoserver:2.2
      ports:
        - containerPort: 8080
```

Проверка состояния Pod:

```bash
microk8s kubectl apply -f manifests/netology-web-pod.yaml
microk8s kubectl get pod netology-web -n basic-hw -o wide
```

Скриншот состояния Pod (STATUS Running):
- `screens/2026-02-02_12-19-29.png`

### 2. Создан Service `netology-svc` и подключён к Pod `netology-web`
Файл: `manifests/netology-svc.yaml`

```yaml
apiVersion: v1
kind: Service
metadata:
  name: netology-svc
  namespace: basic-hw
spec:
  selector:
    app: netology-web
  ports:
    - name: http
      port: 80
      targetPort: 8080
```

Создание и проверка Service:

```bash
microk8s kubectl apply -f manifests/netology-svc.yaml
microk8s kubectl get svc netology-svc -n basic-hw
```

Скриншот `get svc`:
- `screens/2026-02-02_12-20-35.png`

### 3. Подключение локально к Service через port-forward и проверка
На ВМ:

```bash
microk8s kubectl port-forward -n basic-hw svc/netology-svc 18081:80 --address 127.0.0.1
```

Скриншот port-forward к Service:
- `screens/2026-02-02_12-22-24.png`

Проверка доступности (с локального ПК/браузера):
- открыть `http://localhost:28081`

Скриншот результата (Hostname: netology-web):
- `screens/2026-02-02_12-22-55.png`

Дополнительные подтверждения (по желанию/для отчёта):
- скриншот port-forward к Service (вариант из другого терминала): `screens/2026-02-02_12-24-48.png`
- скриншот `get pod hello-world` (повтор): `screens/2026-02-02_12-23-32.png`
- скриншот `get svc netology-svc` (повтор): `screens/2026-02-02_12-20-35.png`

---

## Итог
- Создан Pod `hello-world` и выполнено подключение к нему локально через `kubectl port-forward`.
- Созданы Pod `netology-web` и Service `netology-svc`, выполнено подключение к Service через `kubectl port-forward`.
- Результаты подтверждены скриншотами в каталоге `screens/`.

